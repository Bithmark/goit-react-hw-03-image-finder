(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{21:function(e,t,a){e.exports={loader:"ImageGalleryItem_loader__1JLbD"}},22:function(e,t,a){e.exports={btn:"Button_btn__rpEP8"}},28:function(e,t,a){},30:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),o=a.n(c),s=(a(28),a(10)),u=a(6),i=a.n(u),l=a(9),j=a(4),b=(a(30),a(0)),m=function(e){var t=e.onSetQuery,a=e.query,n=e.onSubmit;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{onSubmit:n,className:"SearchForm",children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{onInput:t,className:"SearchForm-input",type:"text",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},d=a(20),f=a.n(d),h=function(){return Object(b.jsx)(f.a,{type:"Puff",color:"#fffb00",height:120,width:120,timeout:23e3})},p=a(21),O=a.n(p);var x=function(e){var t=e.url,a=e.alt,r=e.modalUrl,c=e.showModal,o=Object(n.useState)(!0),s=Object(j.a)(o,2),u=s[0],i=s[1];return Object(b.jsxs)("li",{onClick:function(){return c(r)},className:"ImageGalleryItem",children:[Object(b.jsx)("img",{onLoad:function(){return i(!1)},src:t,alt:a,className:"ImageGalleryItem-image"}),u&&Object(b.jsx)("div",{className:O.a.loader,children:Object(b.jsx)(h,{})})]})},v=function(e){var t=e.images,a=e.showModal;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.tags,n=e.webformatURL,r=e.id,c=e.largeImageURL;return Object(b.jsx)(x,{showModal:a,modalUrl:c,url:n,alt:t},r)}))})},g=a(22),y=a.n(g),w=function(e){var t=e.onLoadMore;return Object(b.jsx)("button",{className:y.a.btn,onClick:t,type:"button",children:"Load more"})},S=function(e){var t=e.modalImg,a=e.closeModal;return Object(b.jsx)("div",{onClick:a,className:"Overlay",children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:t,alt:""})})})},I=a(23),N=a.n(I);var k=function(e,t){return N()({method:"GET",url:"https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=".concat(e,"&page=").concat(t,"&per_page=12")})};var M=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(j.a)(c,2),u=o[0],d=o[1],f=Object(n.useState)([]),p=Object(j.a)(f,2),O=p[0],x=p[1],g=Object(n.useState)(""),y=Object(j.a)(g,2),I=y[0],N=y[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),E=L[0],G=L[1],_=function(e){"Escape"===e.key&&N("")};Object(n.useEffect)((function(){I?window.addEventListener("keyup",_):window.removeEventListener("keyup",_)}),[I]);var F=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(1),G(!0),e.next=5,k(a,1);case 5:n=e.sent,r=n.data.hits,G(!1),x(r),d((function(e){return e+1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,k(a,u);case 3:t=e.sent,n=t.data.hits,x((function(e){return[].concat(Object(s.a)(e),Object(s.a)(n))})),d((function(e){return e+1})),G(!1),window.scrollTo({top:document.querySelector(".ImageGallery").scrollHeight,behavior:"smooth"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{query:a,onSetQuery:function(e){r(e.target.value)},onSubmit:F}),E&&Object(b.jsx)(h,{}),Object(b.jsx)(v,{showModal:function(e){N(e)},images:O}),E&&Object(b.jsx)(h,{}),!!O.length&&Object(b.jsx)(w,{onLoadMore:q}),I&&Object(b.jsx)(S,{closeModal:function(e){"IMG"!==e.target.nodeName&&N("")},modalImg:I})]})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.52f99a7c.chunk.js.map